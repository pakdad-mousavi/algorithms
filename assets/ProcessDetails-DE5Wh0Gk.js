import{d as F,c as a,o,a as e,i as z,y as q,F as b,j as y,B as C,t as f,H as P,u as L,e as w,w as S,I as M,L as B,k,l as T,m as N,n as D,p as I}from"./index-Dtu6NS1_.js";const Q={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},V=F({name:"CompassOutline",render:function(c,i){return o(),a("svg",Q,i[0]||(i[0]=[e("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),e("path",{d:"M350.67 150.93l-117.2 46.88a64 64 0 0 0-35.66 35.66l-46.88 117.2a8 8 0 0 0 10.4 10.4l117.2-46.88a64 64 0 0 0 35.66-35.66l46.88-117.2a8 8 0 0 0-10.4-10.4zM256 280a24 24 0 1 1 24-24a24 24 0 0 1-24 24z",fill:"currentColor"},null,-1)]))}}),W={key:0},E="bg-[image:repeating-linear-gradient(315deg,var(--color-gray-600)_0,var(--color-gray-600)_1px,_transparent_1px,_transparent_50%)] border-gray-600",G={__name:"Process",props:{currentAlignedProcess:{type:Array,default:()=>[]},quantum:{type:Number,required:!0}},setup(s){var x,l;const c=s,i=z("calcTranslate"),p=[{processing:"bg-[image:repeating-linear-gradient(315deg,var(--color-cyan-600)_0,var(--color-cyan-600)_1px,_transparent_1px,_transparent_50%)] border-cyan-600",incomplete:"bg-cyan-600"},{processing:"bg-[image:repeating-linear-gradient(315deg,var(--color-emerald-600)_0,var(--color-emerald-600)_1px,_transparent_1px,_transparent_50%)] border-emerald-600",incomplete:"bg-emerald-600"},{processing:"bg-[image:repeating-linear-gradient(315deg,var(--color-yellow-500)_0,var(--color-yellow-500)_1px,_transparent_1px,_transparent_50%)] border-yellow-500",incomplete:"bg-yellow-500"},{processing:"bg-[image:repeating-linear-gradient(315deg,var(--color-rose-600)_0,var(--color-rose-600)_1px,_transparent_1px,_transparent_50%)] border-rose-600",incomplete:"bg-rose-600"},{processing:"bg-[image:repeating-linear-gradient(315deg,var(--color-amber-600)_0,var(--color-amber-600)_1px,_transparent_1px,_transparent_50%)] border-amber-600",incomplete:"bg-amber-600"},{processing:"bg-[image:repeating-linear-gradient(315deg,var(--color-violet-600)_0,var(--color-violet-600)_1px,_transparent_1px,_transparent_50%)] border-violet-600",incomplete:"bg-violet-600"}],_=((l=(x=c.currentAlignedProcess)==null?void 0:x[1])==null?void 0:l.length)-1,u=t=>{const n=t==null?void 0:t[1][0],r=t==null?void 0:t[1][2],v=t==null?void 0:t[1][_];return{pid:n,start:r,remaining:v}},m=(t,n)=>{const{pid:r}=u(t);return!r||r<1||r>p.length?"":p[r-1][n]},g=(t,n)=>{const{start:r,remaining:v}=u(t);return n<=r-v?E:m(t,"processing")},d=t=>{const{start:n,remaining:r}=u(t),$=(t==null?void 0:t[0])-(n-r);return i($)},h=t=>{if(!t||!t[1])return 0;const{start:n,remaining:r}=u(t),v=n-r,$=Math.min(r,c.quantum);return v+$};return(t,n)=>s.currentAlignedProcess?(o(),a("div",{key:0,class:"process",style:P(d(s.currentAlignedProcess))},[s.currentAlignedProcess&&s.currentAlignedProcess[1]?(o(!0),a(b,{key:0},y(h(s.currentAlignedProcess),r=>(o(),a("div",{class:C(["processing",g(s.currentAlignedProcess,r)]),key:r},[r===1?(o(),a("span",W,"P"+f(s.currentAlignedProcess[1][0]),1)):q("",!0)],2))),128)):q("",!0),s.currentAlignedProcess&&s.currentAlignedProcess[1]?(o(!0),a(b,{key:1},y(Math.max(0,s.currentAlignedProcess[1][_]-s.quantum),r=>(o(),a("div",{class:C(m(s.currentAlignedProcess,"incomplete"))},null,2))),256)):q("",!0)],4)):q("",!0)}},j={class:"queue-item"},H={__name:"Queue",props:{queueGroup:{type:Array,default:()=>[]}},setup(s){const c=z("calcTranslate");return(i,p)=>(o(!0),a(b,null,y(s.queueGroup,([_,u],m)=>(o(),a("div",{class:"queue",style:P(L(c)(_)),key:m},[(o(!0),a(b,null,y(u,g=>(o(),a("div",j,f(g),1))),256))],4))),128))}},O={class:"timeline"},R={__name:"Timeline",props:{totalTime:{type:Number,required:!0}},setup(s){return(c,i)=>(o(),a("div",O,[(o(!0),a(b,null,y(s.totalTime,p=>(o(),a("div",null,f(p-1)+"ms",1))),256))]))}},U={class:"mb-4 text-sm border-2 rounded-md border-zinc-700 legend p-4"},X={class:"flex items-center mb-6 border-zinc-700 gap-x-2"},J={class:"grid grid-cols-2 space-y-2 md:grid-cols-4 gap-x-4"},K={__name:"Legend",setup(s){return(c,i)=>(o(),a("div",U,[e("div",X,[w(L(M),{class:"text-2xl"},{default:S(()=>[w(L(V))]),_:1}),i[0]||(i[0]=e("h4",{class:"text-base font-medium"},"Legend",-1))]),e("div",J,[B(c.$slots,"default")])]))}},Y={class:"gantt-chart-container"},A=24,ae={__name:"GanttChart",props:{queueLog:{type:Array,default:()=>[]},processLog:{type:Array,default:()=>[]},quantum:{type:Number,required:!0}},setup(s){const c=s,i=k(null),p=k(!1),_=k(0),u=T(()=>{const l=c.queueLog[c.queueLog.length-1];return l&&l[0]&&l[0][0]!==void 0?l[0][0]+1:0}),m=T(()=>`width: calc(var(--spacing) * ${A} * ${u.value+1})`),g=T(()=>{const l=[],t=c.processLog.map(n=>n[0]);for(let n=0;n<u.value;n++){const r=t.findIndex(v=>v===n);r<0?l.push(null):l.push(c.processLog[r])}return l}),d=l=>`transform: translateX(calc(var(--spacing) * ${A} * ${l}));`,h=l=>`left: calc(var(--spacing) * ${A} * ${l});`,x=()=>{const t=i.value.getBoundingClientRect().top,n=window.matchMedia("(min-width: 1024px)"),r=52,v=n.matches?r:r*2;t-v<=0?(_.value=Math.abs(t-v)-4,p.value=!0):(_.value=0,p.value=!1)};return N(()=>{window.addEventListener("scroll",x)}),D(()=>{window.removeEventListener("scroll",x)}),I("calcTranslate",d),(l,t)=>(o(),a("div",null,[w(K,null,{default:S(()=>t[0]||(t[0]=[e("div",{class:"space-y-2"},[e("div",{class:"font-medium"}," Queue "),e("div",{class:"flex rounded-md [&>div]:first:rounded-l-md [&>div]:last:rounded-r-md"},[e("div",{class:"!w-min-max queue-item"},"-"),e("div",{class:"!w-min-max queue-item"},"-"),e("div",{class:"!w-min-max queue-item"},"-"),e("div",{class:"!w-min-max queue-item"},"-"),e("div",{class:"!w-min-max queue-item"},"-"),e("div",{class:"!w-min-max queue-item"},"-")])],-1),e("div",{class:"space-y-2"},[e("div",{class:"font-medium"}," Finished Segment "),e("div",{class:"border border-gray-600 h-7 bg-[image:repeating-linear-gradient(315deg,var(--color-gray-600)_0,var(--color-gray-600)_1px,_transparent_1px,_transparent_50%)] bg-[size:10px_10px] rounded-md"})],-1),e("div",{class:"space-y-2"},[e("div",{class:"font-medium"}," Processing Segment "),e("div",{class:"border border-gray-400 h-7 bg-[image:repeating-linear-gradient(315deg,var(--color-gray-400)_0,var(--color-gray-400)_1px,_transparent_1px,_transparent_50%)] bg-[size:10px_10px] rounded-md"})],-1),e("div",{class:"space-y-2"},[e("div",{class:"font-medium"}," Incomplete Segment "),e("div",{class:"bg-gray-400 rounded-md h-7"})],-1)])),_:1,__:[0]}),e("div",Y,[e("div",{class:"gantt-chart",style:P(m.value),ref_key:"chart",ref:i},[(o(!0),a(b,null,y(u.value,n=>(o(),a("div",{class:"lines",style:P(h(n))},null,4))),256)),w(R,{totalTime:u.value+1,class:C({"border-y-2":p.value}),style:P(`margin-top: ${_.value}px;`)},null,8,["totalTime","class","style"]),(o(!0),a(b,null,y(s.queueLog,(n,r)=>(o(),a("div",{class:"interval",key:r},[w(H,{"queue-group":n},null,8,["queue-group"]),w(G,{"current-aligned-process":g.value[r],quantum:s.quantum},null,8,["current-aligned-process","quantum"])]))),128))],4)])]))}},Z={class:"overflow-x-scroll"},ee={class:"my-10"},te={class:"highlight-first-column"},re={class:"font-medium"},se={class:"font-medium"},oe={__name:"ProcessDetails",props:{processData:{type:Array,default:()=>[]},finishedProcesses:{type:Array,default:()=>[]}},setup(s){const c=s,i=T(()=>{var g;const u=[],m=c.finishedProcesses.sort((d,h)=>d[0]-h[0]);for(let d=0;d<c.processData.length;d++){const h=(g=c.processData)==null?void 0:g[d],[x,l]=h,t=m[d][1],n=t-x-l,r=t-x;u.push([n,r])}return u}),p=T(()=>(i.value.reduce((g,d)=>g+d[0],0)/i.value.length).toFixed(2)),_=T(()=>(i.value.reduce((g,d)=>g+d[1],0)/i.value.length).toFixed(2));return(u,m)=>(o(),a("div",Z,[e("table",ee,[m[1]||(m[1]=e("thead",null,[e("tr",null,[e("th",null,"Process"),e("th",null,"Waiting Time"),e("th",null,"Turnaround Time")])],-1)),e("tbody",te,[(o(!0),a(b,null,y(i.value,([g,d],h)=>(o(),a("tr",{key:h},[e("td",null,"P"+f(h+1),1),e("td",null,f(g)+" ms",1),e("td",null,f(d)+" ms",1)]))),128)),e("tr",null,[m[0]||(m[0]=e("td",null,"Average Per Process:",-1)),e("td",re,f(p.value)+" ms",1),e("td",se,f(_.value)+" ms",1)])])])]))}};export{ae as _,oe as a};
