import{r as P,a as x,w as W,c as Z,b as g,u as B,t as $,d as k,e,f as V,v as L,g as q,h as N,i as G,F as H,j,k as z,l as d,o as m,m as J}from"./index-BMxRTfMx.js";import{_ as K,a as X,b as Y,c as ee}from"./TrashButton-DpKNN4Mt.js";import{_ as te,a as se}from"./ProcessDetails-Cc4elZjg.js";import{_ as ne}from"./Alert-CixO-KZ7.js";const ie={class:"mb-10 space-y-4"},oe={class:"flex flex-wrap items-end gap-4"},le={class:"flex flex-col flex-1 gap-2"},ae={class:"flex gap-2"},re=["disabled"],ue={class:"overflow-x-scroll"},de={class:"highlight-first-column"},me=["onUpdate:modelValue"],ce=["onUpdate:modelValue"],pe={class:"w-20 mx-auto text-center"},he={class:"mt-16"},fe=6,xe={__name:"RoundRobin",setup(ge){const T=P(null),c=P(2),l=x([[0,4],[1,6],[2,4],[3,5]]),v=P(!1),_=x([]),C=x([]),R=x([]);W(c,()=>{b()});const D=Z(()=>{const i=Object.groupBy(_,t=>t[0]);return Object.values(i)}),b=()=>{v.value=!1,_.length=0,C.length=0,R.length=0},F=()=>{b();const t=[l[l.length-1][0]+1,Math.round(Math.random()*10)];l.push(t)},M=i=>{b(),l.splice(i,1)},E=()=>{l.forEach(i=>{i[0]=0})};let S=null,U=-1;const p=(i,t)=>{const n=t.map(s=>`P${s[0]}`);for(;n.length<6;)n.push("-");const a=n.join(",");(a!==S||i!==U)&&(_.push([i,n]),S=a,U=i)},O=(i,t)=>{const n=i.slice();C.push([t,n])},I=()=>{if(!T.value.checkValidity())return T.value.reportValidity();b(),v.value=!0;const t=Number(c.value);let n=1;const a=l.map(h=>[n++,h[0],h[1],h[1]]),s=[];let r=0,o=null,A=0;const y=new Set;for(;;){if(p(r,s),a.forEach(u=>{const[f,w]=u;w===r&&!y.has(f)&&(s.push(u),p(r,s),y.add(f))}),!o&&s.length>0&&(o=s.shift(),p(r,s),O(o,r),A=Math.min(t,o[3])),o&&(o[3]-=1,A-=1),r++,o){const u=o;u[3]===0?(R.push([u[0],r]),o=null):A===0&&(o=null,a.forEach(f=>{const[w,Q]=f;Q===r&&!y.has(w)&&(s.push(f),p(r,s),y.add(w))}),s.push(u),p(r,s))}const h=a.every(u=>u[3]===0);if(!o&&s.length===0&&h)break}};return(i,t)=>(m(),g(Y,null,{[B($).howItWorks.id]:k(()=>[e("div",ie,[t[2]||(t[2]=e("p",null,[d(" The "),e("span",{class:"text-main"},"Round Robin Algorithm"),d(" is a widely used CPU scheduling method, particularly effective in time-sharing systems. Its main objective is to allocate CPU time fairly among all running processes, ensuring that each one receives regular access to the processor. ")],-1)),t[3]||(t[3]=e("p",null," This method ensures that all processes are treated equally, preventing any single process from dominating the CPU. As a result, Round Robin is particularly suitable for systems that require good response times, such as interactive or multi-user environments. ",-1)),t[4]||(t[4]=e("p",null,[d(" In this approach, each process is assigned a fixed unit of time, known as a "),e("span",{class:"text-main"},"time quantum"),d(" or "),e("span",{class:"text-main"},"time slice"),d(". The CPU scheduler maintains a queue of ready processes and allows each one to execute for a duration equal to the time quantum. If a process finishes within this time, it releases the CPU. If it requires more time, it is paused after the quantum expires and placed at the end of the queue to wait for another turn. ")],-1)),z(X,{src:"/algorithms/cpu-scheduling/round-robin/round-robin.svg",caption:"Round Robin CPU Scheduling Algorithm"}),z(ne,{alertStyle:"warning"},{default:k(()=>[t[1]||(t[1]=e("div",{class:"space-y-4"},[e("p",null," This implementation of the round robin algorithm is biased towards arriving processes rather than completed processes. This means that if a process arrives and finishes at the same time, the process which has arrived will enter the queue first. "),e("p",null," Only after the arriving process(es) are added to the queue, will the finished process leave the CPU and go to the back of the queue. ")],-1))]),_:1}),t[5]||(t[5]=e("p",null,[d(" Additional details may also be needed to measure the performance of each process in the operating system, such as "),e("span",{class:"text-main"},"waiting time"),d(" and "),e("span",{class:"text-main"},"turnaround time"),d(". ")],-1)),t[6]||(t[6]=e("p",null," Waiting time is the total time that a process spends in the queue, and turnaround time is the total time taken from when a process arrives to when it completes execution. The following formulae are used to calculate each value respectively: ",-1)),t[7]||(t[7]=e("div",null,[e("p",{class:"inline-block px-4 py-1.5 border rounded-md bg-zinc-800 border-zinc-700"}," Turnaround Time = Completion Time - Arrival Time ")],-1)),t[8]||(t[8]=e("div",null,[e("p",{class:"inline-block px-4 py-1.5 border rounded-md bg-zinc-800 border-zinc-700"}," Waiting Time = Turnaround Time - Burst Time ")],-1))])]),[B($).visualizer.id]:k(()=>[e("div",null,[t[13]||(t[13]=e("h1",{class:"mb-4 text-xl font-semibold"}," Step By Step Illustration ",-1)),t[14]||(t[14]=e("hr",{class:"mb-4 border-neutral-800"},null,-1)),e("form",{ref_key:"form",ref:T,class:"w-full space-y-4 gap-x-4"},[e("div",oe,[e("div",le,[t[9]||(t[9]=e("label",{class:"font-medium"},"Time Slice:",-1)),V(e("input",{type:"number",class:"w-full field sm:w-60","onUpdate:modelValue":t[0]||(t[0]=n=>c.value=n),min:"1",max:"20",required:""},null,512),[[L,c.value]])]),e("div",ae,[e("button",{class:"btn",type:"button",onClick:q(E,["prevent"])}," Set All Arrival Times to Zero "),e("button",{class:"btn",type:"button",onClick:q(F,["prevent"]),disabled:l.length===fe}," Add Row ",8,re)])]),e("div",ue,[e("table",null,[t[10]||(t[10]=e("thead",null,[e("tr",null,[e("th",null,"Process"),e("th",null,"Arrival Time"),e("th",null,"Burst Time"),e("th")])],-1)),e("tbody",de,[(m(!0),N(H,null,G(l,(n,a)=>(m(),N("tr",{key:a},[e("td",null," P"+J(a+1),1),e("td",null,[V(e("input",{type:"number",min:"0",max:"10",required:"","onUpdate:modelValue":s=>n[0]=s},null,8,me),[[L,n[0]]])]),e("td",null,[V(e("input",{type:"number",min:"1",max:"20",required:"","onUpdate:modelValue":s=>n[1]=s},null,8,ce),[[L,n[1]]])]),e("td",pe,[l.length>1?(m(),g(ee,{key:0,onClick:s=>M(a)},null,8,["onClick"])):j("",!0)])]))),128))])])]),e("button",{onClick:q(I,["prevent"]),class:"btn",type:"submit"}," Run Algorithm ")],512),e("div",he,[t[12]||(t[12]=e("h3",{class:"mb-2 text-lg font-medium"},"Results:",-1)),v.value?(m(),g(te,{key:0,queueLog:D.value,processLog:C,quantum:Number(c.value)},null,8,["queueLog","processLog","quantum"])):j("",!0),v.value?(m(),g(se,{key:1,processData:l,"finished-processes":R},null,8,["processData","finished-processes"])):(m(),g(K,{key:2},{default:k(()=>[t[11]||(t[11]=e("p",{class:"mb-4"}," No results to display yet, try running the algorithm... ",-1)),e("button",{onClick:q(I,["prevent"]),class:"btn"}," Run Algorithm ")]),_:1}))])])]),_:2},1024))}};export{xe as default};
