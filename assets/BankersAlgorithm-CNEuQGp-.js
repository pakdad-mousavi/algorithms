import{q as L,e as n,o as t,g as e,i as x,t as h,F as p,l as b,n as P,f as q,h as v,d as $,b as N,u as k,I as T,c as U,a as j,r as E,w as _,T as Q,j as O,v as D,k as W,A as F}from"./index-Bn_nT_Cx.js";import{_ as X}from"./Alert-T-tNcT_w.js";import{_ as G,T as H,a as Y}from"./Figure-Cm_6agPX.js";const Z={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ee=L({name:"ArrowDown",render:function(a,r){return t(),n("svg",Z,r[0]||(r[0]=[e("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M12 5v14"}),e("path",{d:"M18 13l-6 6"}),e("path",{d:"M6 13l6 6"})],-1)]))}}),se={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},te=L({name:"Check",render:function(a,r){return t(),n("svg",se,r[0]||(r[0]=[e("path",{d:"M5 12l5 5L20 7",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))}}),re={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ne=L({name:"ChevronRight",render:function(a,r){return t(),n("svg",re,r[0]||(r[0]=[e("path",{d:"M9 6l6 6l-6 6",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))}}),le={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},oe=L({name:"X",render:function(a,r){return t(),n("svg",le,r[0]||(r[0]=[e("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M18 6L6 18"}),e("path",{d:"M6 6l12 12"})],-1)]))}}),ae={class:"flex justify-center mb-4 gap-x-2"},ie={class:"inline-block px-4 py-1 text-sm border rounded-md bg-zinc-800 border-zinc-700"},ue={class:"font-medium"},de={class:"inline-block px-4 py-1 text-sm border rounded-md bg-zinc-800 border-zinc-700"},ce={class:"font-medium"},me={__name:"Tags",props:{processId:{type:Number,required:!0},runCount:{type:Number,required:!0}},setup(l){return(a,r)=>(t(),n("div",ae,[e("div",ie,[r[0]||(r[0]=x(" Current Process: ")),e("span",ue,"P"+h(l.processId+1),1)]),e("div",de,[r[1]||(r[1]=x(" Current Run Through Processes: ")),e("span",ce,h(l.runCount),1)])]))}},he={class:"flex mx-auto mb-2 sm:w-4/5 justify-evenly"},fe={__name:"ProcessBar",props:{numberOfProcesses:{type:Number,required:!0},processId:{type:Number,required:!0},finishedProcesses:{type:Array,default:()=>[]}},setup(l){return(a,r)=>(t(),n("div",he,[(t(!0),n(p,null,b(l.numberOfProcesses,o=>(t(),n("div",{class:P(["flex items-center justify-center border rounded-md border-zinc-700 w-10 sm:w-15 aspect-square bg-[size:10px_10px] font-medium",{"!border-cyan-600 bg-[image:repeating-linear-gradient(315deg,var(--color-cyan-600)_0,var(--color-cyan-600)_1px,_transparent_1px,_transparent_50%)]":o-1===l.processId,"!border-emerald-600":l.finishedProcesses.includes(o-1)&&o-1!==l.processId}])}," P"+h(o),3))),256))]))}},pe={class:"p-4 space-y-4 border rounded-md border-zinc-700"},be={class:"flex flex-col gap-4 lg:items-center lg:flex-row"},ve={class:"overflow-x-scroll lg:!w-3/5"},ge={class:"text-center"},ye={class:"text-center"},xe={class:"text-center"},we={class:"space-y-4 lg:w-2/5"},ke={key:0},Ae={key:1},Se={key:0,class:"flex flex-col gap-4 lg:items-center lg:flex-row"},$e={class:"overflow-x-scroll lg:!w-3/5"},qe={class:"text-center"},Re={class:"text-center"},Ce={class:"text-center"},Te={class:"text-center"},Me={__name:"RunStepPanel",props:{curNeed:{type:Array,default:()=>[]},curAvailable:{type:Array,default:()=>[]},curAllocation:{type:Array,default:()=>[]},canRun:{type:Boolean,required:!0},processId:{type:Number,required:!0},numberOfResources:{type:Number,required:!0}},setup(l){return(a,r)=>(t(),n("div",pe,[e("div",be,[e("div",ve,[e("table",null,[e("thead",null,[e("tr",null,[r[0]||(r[0]=e("th",null,null,-1)),(t(!0),n(p,null,b(l.numberOfResources,o=>(t(),n("th",ge,"R"+h(o),1))),256))])]),e("tbody",null,[e("tr",null,[r[1]||(r[1]=e("td",null,"Need",-1)),(t(!0),n(p,null,b(l.curNeed,o=>(t(),n("td",ye,h(o),1))),256))]),e("tr",null,[r[2]||(r[2]=e("td",null,"Available",-1)),(t(!0),n(p,null,b(l.curAvailable,o=>(t(),n("td",xe,h(o),1))),256))]),e("tr",null,[r[3]||(r[3]=e("td",null,"Need â‰¤ Available",-1)),(t(!0),n(p,null,b(l.curNeed,(o,u)=>(t(),n("td",null,[e("div",{class:P(["flex items-center justify-center w-5 mx-auto rounded-md aspect-square",{"bg-emerald-700":o<=l.curAvailable[u],"bg-rose-700":o>l.curAvailable[u]}])},[v(k(T),null,{default:$(()=>[o<=l.curAvailable[u]?(t(),N(k(te),{key:0})):(t(),N(k(oe),{key:1}))]),_:2},1024)],2)]))),256))])])])]),e("div",we,[e("p",null," Compare the need for every resource of P"+h(l.processId+1)+" with the current available of each resource. ",1),l.canRun?(t(),n("p",ke,[x(" The need for every resource of P"+h(l.processId+1)+" ",1),r[4]||(r[4]=e("span",{class:"text-emerald-600"},"is less than or equal to",-1)),x(" the current available resources, so P"+h(l.processId+1)+" can run. ",1)])):(t(),n("p",Ae,[x(" The need for every resource of P"+h(l.processId+1)+" is ",1),r[5]||(r[5]=e("span",{class:"text-rose-600"},"not less than or equal to",-1)),x(" the current available resources, so skip P"+h(l.processId+1)+". ",1)]))])]),l.canRun?(t(),n("div",Se,[e("div",$e,[e("table",null,[e("thead",null,[e("tr",null,[r[6]||(r[6]=e("th",null,null,-1)),(t(!0),n(p,null,b(l.numberOfResources,o=>(t(),n("th",qe,"R"+h(o),1))),256))])]),e("tbody",null,[e("tr",null,[r[7]||(r[7]=e("td",null,"Allocation",-1)),(t(!0),n(p,null,b(l.curAllocation,o=>(t(),n("td",Re,h(o),1))),256))]),e("tr",null,[r[8]||(r[8]=e("td",null,"Available",-1)),(t(!0),n(p,null,b(l.curAvailable,o=>(t(),n("td",Ce,h(o),1))),256))]),e("tr",null,[r[9]||(r[9]=e("td",null,"New Available",-1)),(t(!0),n(p,null,b(l.curAllocation,(o,u)=>(t(),n("td",Te,h(o+l.curAvailable[u]),1))),256))])])])]),r[10]||(r[10]=e("div",{class:"space-y-4 lg:w-2/5"},[e("p",null," Simulate the system waiting for the process to complete and then releasing its resources. "),e("p",null," Add the released resources to the available to calculate the new one. ")],-1))])):q("",!0)]))}},Pe={class:"p-4 rounded-md"},ze={key:0,class:"flex mt-10 justify-evenly"},Ie={__name:"BankerSimulation",props:{processLog:{type:Array,default:()=>[]},numberOfProcesses:{type:Number,required:!0},numberOfResources:{type:Number,required:!0}},setup(l){const a=l,r=o=>o===a.processLog.length-1;return(o,u)=>(t(),n("div",null,[u[0]||(u[0]=e("p",{class:"mb-2 font-medium"},"Step by step solution:",-1)),u[1]||(u[1]=e("hr",{class:"mb-4 border-neutral-800"},null,-1)),(t(!0),n(p,null,b(l.processLog,(i,A)=>(t(),n("div",Pe,[v(me,{"process-id":i.processId,"run-count":i.runCount},null,8,["process-id","run-count"]),v(fe,{"finished-processes":i.finished,"number-of-processes":l.numberOfProcesses,"process-id":i.processId},null,8,["finished-processes","number-of-processes","process-id"]),v(Me,{"cur-need":i.need,"cur-available":i.available,"cur-allocation":i.allocation,"can-run":i.canRun,"process-id":i.processId,"number-of-resources":l.numberOfResources},null,8,["cur-need","cur-available","cur-allocation","can-run","process-id","number-of-resources"]),r(A)?q("",!0):(t(),n("div",ze,[v(k(T),{class:"text-6xl text-zinc-700"},{default:$(()=>[v(k(ee))]),_:1})]))]))),256))]))}},Be={class:"overflow-x-scroll"},je={class:"highlight-first-column"},Ne={__name:"Need",props:{numberOfResources:{required:!0,type:Number},needMatrix:{type:Array,default:()=>[]}},setup(l){return(a,r)=>(t(),n("div",null,[r[1]||(r[1]=e("p",{class:"mb-2 font-medium"},"Need:",-1)),e("div",Be,[e("table",null,[e("thead",null,[e("tr",null,[r[0]||(r[0]=e("th",null,"Process",-1)),(t(!0),n(p,null,b(l.numberOfResources,o=>(t(),n("th",null,"R"+h(o),1))),256))])]),e("tbody",je,[(t(!0),n(p,null,b(l.needMatrix,(o,u)=>(t(),n("tr",null,[e("td",null,"P"+h(u+1),1),(t(!0),n(p,null,b(o,i=>(t(),n("td",null,h(i),1))),256))]))),256))])])])]))}},Le={class:"p-4 border rounded-md border-zinc-700"},Ve={class:"flex justify-center gap-x-4"},_e={class:"flex items-center justify-center mt-4"},Oe=["innerHTML"],De={__name:"SafeSequence",props:{formattedSafeSequence:{type:Array,default:()=>[]},isSystemInSafeState:{type:Boolean,required:!0}},setup(l){const a=l,r={safe:'Since there is a valid safe sequence which has been found and all processes have successfully been completed, the system <span class="text-emerald-500">is in a safe state.</span>',notSafe:'No valid safe sequence could be found, which means not all processes have successfully been completed, so the system <span class="text-rose-500">is not in a safe state.</span>'},o=U(()=>a.isSystemInSafeState?r.safe:r.notSafe);return(u,i)=>(t(),n("div",null,[i[1]||(i[1]=e("p",{class:"mb-2 font-medium"},"Final Safe Sequence:",-1)),i[2]||(i[2]=e("hr",{class:"mb-4 border-neutral-800"},null,-1)),e("div",Le,[e("div",Ve,[(t(!0),n(p,null,b(l.formattedSafeSequence,A=>(t(),n("div",{class:P(["flex items-center justify-center w-10 font-medium border rounded-md sm:w-15 aspect-square",{"border-rose-700 text-rose-500":A==="-","border-emerald-700 text-emerald-500":A!=="-"}])},h(A),3))),256))]),e("div",_e,[i[0]||(i[0]=e("hr",{class:"w-4/5 translate-x-3 border-2 rounded-full border-zinc-700 sm:w-3/5 md:w-2/5"},null,-1)),v(k(T),{class:"text-4xl -translate-x-2.5 text-zinc-700"},{default:$(()=>[v(k(ne))]),_:1})]),e("p",{class:"w-full mx-auto text-center sm:w-4/5",innerHTML:o.value},null,8,Oe)])]))}},Fe=({allocationMatrix:l,maxMatrix:a,resourceInstances:r})=>{const o=({i:f,runCount:g,isFinished:c,finished:s,need:d,available:m,allocation:w,canRun:y})=>{u.push({processId:f,runCount:g,isFinished:c,finished:Array.from(s),need:(d==null?void 0:d.slice())??null,canRun:y,available:(m==null?void 0:m.slice())??null,allocation:(w==null?void 0:w.slice())??null})},u=[],i=[],A=[],z=Array(r.length).fill(0);l.forEach(f=>{f.forEach((g,c)=>{z[c]+=g})});const R=r.map((f,g)=>f-z[g]);for(let f=0;f<l.length;f++){i.push([]);for(let g=0;g<a[f].length;g++){const c=a[f][g]-l[f][g];i[f][g]=c}}const S=new Set;let I=0,M=!0;for(;S.size<i.length&&M;){M=!1,I++;for(let f=0;f<i.length;f++){const g=i[f],c=l[f],s=S.has(f);if(s)continue;const d=!s&&g.every((w,y)=>w<=R[y]),m=R.slice();d&&(c.forEach((w,y)=>{R[y]+=w}),S.add(f),A.push(f),M=!0),o({i:f,runCount:I,isFinished:s,finished:S,need:g,canRun:d,available:m,allocation:d?c:null})}}const B=S.size===i.length;return{needMatrix:i,safeSequence:A,isSafe:B,processLog:u}},He={key:0},Ue={class:"mb-10 space-y-4"},Ee={class:"mb-10 space-y-4"},We={key:1},Xe={class:"flex items-end"},Ge=["disabled"],Je={class:"mb-10 overflow-x-scroll"},Ke={class:"flex items-center gap-x-2"},Qe=["onClick"],Ye=["onUpdate:modelValue"],Ze={class:"flex items-end sm:justify-end gap-x-2"},es=["disabled"],ss={class:"flex flex-col gap-x-4 xl:flex-row gap-y-10"},ts={class:"w-full overflow-x-scroll xl:w-1/2"},rs={key:0},ns={class:"highlight-first-column"},ls=["onUpdate:modelValue"],os={key:0,class:"w-20"},as=["onClick"],is={class:"w-full overflow-x-scroll xl:w-1/2"},us={key:0},ds={class:"highlight-first-column"},cs=["onUpdate:modelValue"],ms={key:0,class:"w-20"},hs=["onClick"],fs={key:0,class:"flex flex-col gap-y-16"},J=6,K=4,C=20,gs={__name:"BankersAlgorithm",props:{tab:{type:String,required:!0}},setup(l){const a=j([10,5,7]),r=j([[0,1,0],[2,0,0],[3,0,2],[2,1,1],[0,0,2]]),o=j([[7,5,3],[3,2,2],[9,0,2],[2,2,2],[4,3,3]]),u=j({needMatrix:[],processLog:[],safeSequence:[],isSystemInSafeState:!1}),i=E(null),A=E(!1),z=U(()=>{const c=u.safeSequence.slice().map(s=>`P${s+1}`);for(;c.length<u.needMatrix.length;)c.push("-");return c}),R=U(()=>r.length),S=()=>{u.needMatrix.length=0,u.processLog.length=0,u.safeSequence.length=0,A.value=!1};_(a,S),_(r,S),_(o,S);const I=()=>{S();const c=new Array(a.length).fill(0);r.push(c),o.push(c)},M=()=>{const c=Math.floor(C/R.value);let s=Math.floor(Math.random()*3);for(let d=0;d<R.value;d++){const m=Math.floor(Math.random()*c);s+=m;const w=Math.floor(Math.random()*3),y=m+w;r[d].push(m),o[d].push(y)}s=s>C?C:s,a.push(s)},B=c=>{S(),r.splice(c,1),o.splice(c,1)},f=c=>{for(let s=0;s<R.value;s++)r[s].splice(c,1),o[s].splice(c,1);a.splice(c,1)},g=()=>{if(!i.value.checkValidity())return i.value.reportValidity();const{needMatrix:s,safeSequence:d,isSafe:m,processLog:w}=Fe({allocationMatrix:F(r).map(y=>y.slice()),maxMatrix:F(o).map(y=>y.slice()),resourceInstances:F(a).slice()});u.needMatrix=s,u.safeSequence=d,u.isSystemInSafeState=m,u.processLog=w,A.value=!0};return(c,s)=>(t(),N(Q,null,{default:$(()=>[(t(),n("div",{key:l.tab},[l.tab==="How It Works"?(t(),n("div",He,[e("div",Ue,[s[2]||(s[2]=e("p",null,[e("span",{class:"text-main"},"Banker's Algorithm"),x(" is a non-preemptive method of avoiding "),e("span",{class:"text-main"},"deadlocks"),x(" inside of a system with limited resources. Created by Edsger Dijkstra, the Banker's Algorithm works by avoiding the potential for any deadlocks which may occur altogether, in contrast to deadlock recovery methods. ")],-1)),v(X,{"alert-style":"note"},{default:$(()=>s[1]||(s[1]=[e("p",null,` The name "Banker's Algorithm" comes from how a bank lends money to its customers. Banks will only loan out money if they are certain they can fulfill all customer withdrawals, even in the worst case scenario. This ensures that there is always enough money in the bank to avoid bankruptcy. `,-1)])),_:1,__:[1]})]),s[22]||(s[22]=e("h2",{class:"mb-4 text-xl font-semibold"}," The Deadlock Problem ",-1)),s[23]||(s[23]=e("hr",{class:"mb-4 border-neutral-800"},null,-1)),s[24]||(s[24]=e("div",{class:"mb-10 space-y-4"},[e("p",null," In operating systems, a deadlock occurs when multiple processes are waiting for resources that are held by each other. The processes are both holding the resources the other needs, and waiting for the other process to release their resources (which never happens since both sides are waiting). "),e("p",null," To put this into perspective, imagine a four-way intersection, with four cars (process A, B, C, and D) each coming from different directions. All four cars want to turn left, so they move slightly into the intersection and then wait for the car that's in front of them to move first. "),e("ul",{class:"list-disc list-inside"},[e("li",null,[e("span",{class:"text-rose-400"},"A"),x(" waits for "),e("span",{class:"text-amber-400"},"B")]),e("li",null,[e("span",{class:"text-amber-400"},"B"),x(" waits for "),e("span",{class:"text-main"},"C")]),e("li",null,[e("span",{class:"text-main"},"C"),x(" waits for "),e("span",{class:"text-cyan-400"},"D")]),e("li",null,[e("span",{class:"text-cyan-400"},"D"),x(" waits for "),e("span",{class:"text-rose-400"},"A")])]),e("p",null," All four cars are waiting in the center for their counterpart to move, so the traffic stops moving completely; the cars are in a deadlock. Bankers algorithm is a way to avoid such deadlocks from happening in the first place. ")],-1)),v(G,{src:"/algorithms/deadlock-management/bankers-algorithm/deadlocks.svg",caption:"How a Deadlock Works"}),s[25]||(s[25]=e("h2",{class:"mb-4 text-xl font-semibold"}," How it works ",-1)),s[26]||(s[26]=e("hr",{class:"mb-4 border-neutral-800"},null,-1)),e("div",Ee,[s[4]||(s[4]=e("p",null,[x(" The Banker's Algorithm is run everytime a process requests for more resources than it already has. It checks to see if all processes can be finished if the resources needed by that process are allocated to it. This is done by simulating the system to see if there is at least one order (known as the "),e("span",{class:"text-main"},"safe sequence"),x(") in which all processes can finish. ")],-1)),v(X,{"alert-style":"warning"},{default:$(()=>s[3]||(s[3]=[e("div",{class:"space-y-4"},[e("p",null," In real-world systems, the Banker's Algorithm is used to see if the resources requested by a process can be allocated to it without risking a potential deadlock in the system, as described earlier. "),e("p",null," However, for the sake of simplicity, this implementation of the algorithm will focus solely on determining whether the system is currently in a safe state or not, rather than handling actual resource allocation or process execution. ")],-1)])),_:1,__:[3]}),s[5]||(s[5]=e("h3",{class:"mb-4 font-semibold"}," Resource Instances ",-1)),s[6]||(s[6]=e("hr",{class:"mb-4 border-neutral-800"},null,-1)),s[7]||(s[7]=e("p",{class:"mb-10"}," This is the total number of resources of each type given inside of the system. It is used, along with allocated, to calculate the available values for each process. These values are needed in advanced (if available values are not given). ",-1)),s[8]||(s[8]=e("h3",{class:"mb-4 font-semibold"}," Allocated ",-1)),s[9]||(s[9]=e("hr",{class:"mb-4 border-neutral-800"},null,-1)),s[10]||(s[10]=e("p",{class:"mb-10"}," This is the number of resources of each type that have already been allocated to each process. It is used, along with resource instances, to calculate the available values for each process. These values are needed in advanced. ",-1)),s[11]||(s[11]=e("h3",{class:"mb-4 font-semibold"}," Available ",-1)),s[12]||(s[12]=e("hr",{class:"mb-4 border-neutral-800"},null,-1)),s[13]||(s[13]=e("p",null," This is the number of each resource types that are available for each process. It can be calculated as: ",-1)),s[14]||(s[14]=e("p",{class:"mb-10 italic text-center"},"Available = Resource Instance - Total Allocated Amongst Processes",-1)),s[15]||(s[15]=e("h3",{class:"mb-4 font-semibold"}," Max ",-1)),s[16]||(s[16]=e("hr",{class:"mb-4 border-neutral-800"},null,-1)),s[17]||(s[17]=e("p",{class:"mb-10"}," This is the maximum resources of each type that each process may ask for. These values are needed in advanced. ",-1)),s[18]||(s[18]=e("h3",{class:"mb-4 font-semibold"}," Need ",-1)),s[19]||(s[19]=e("hr",{class:"mb-4 border-neutral-800"},null,-1)),s[20]||(s[20]=e("p",null," This is what each process still may need to complete its job. For each resource type of each process, it can be calculated as: ",-1)),s[21]||(s[21]=e("p",{class:"mb-10 italic text-center"},"Need = Max - Allocation",-1))]),s[27]||(s[27]=e("h2",{class:"mb-4 text-xl font-semibold"}," Understanding the process ",-1)),s[28]||(s[28]=e("hr",{class:"mb-4 border-neutral-800"},null,-1)),s[29]||(s[29]=e("ol",{class:"grid grid-cols-1 space-y-4 gap-x-4"},[e("li",{class:"p-4 border rounded-md border-zinc-700"},[e("span",{class:"font-medium text-main"}," Step 1: Gather initial system information "),e("p",null," The system needs to have each resources total instances, an allocation matrix, and a max matrix. Both the available vector and the need matrix can be calculated from the values above if not provided. ")]),e("li",{class:"p-4 border rounded-md border-zinc-700"},[e("span",{class:"font-medium text-main"}," Step 2: Calculate the available vector and the need matrix "),e("p",{class:"mb-4"},[x(" To calculate the available matrix, sum up all of the allocated resources of each resource type, then subtract each of the values from their corresponding resource types' total instance. Then, for each process "),e("span",{class:"italic"},"i"),x(" and resource "),e("span",{class:"italic"},"j"),x(", use the allocation and max matries to calculate the need matrix with: ")]),e("p",{class:"font-mono italic text-center"}," Need[i][j] = Max[i][j] - Allocation[i][j] ")]),e("li",{class:"p-4 border rounded-md border-zinc-700"},[e("span",{class:"font-medium text-main"}," Step 3: Find a valid process "),e("p",null," Take the first process from the list of processes which is not yet finished, and check to see if all resources in the need for this process are less than or equal to the available vector. ")]),e("li",{class:"p-4 border rounded-md border-zinc-700"},[e("span",{class:"font-medium text-main"}," Step 4: Simulate the process finishing "),e("p",null," If such a process is found, add each of the resources that were allocated to it back to the available vector respectively. Mark this process as finished, add it to the safe sequence, and repeat step 4. ")]),e("li",{class:"p-4 border rounded-md border-zinc-700"},[e("span",{class:"font-medium text-main"}," Step 5: Determine safe or unsafe state "),e("p",null," If all of the processes are marked as finished, then the system is in a safe state when the algorithm began. The safe sequence shows the order in which the processes can run until they're completed. However, if no process can be found in step 4, and, not all of the processes are marked as finished, the system is in an unsafe state and deadlock may occur. ")])],-1)),v(G,{src:"/algorithms/deadlock-management/bankers-algorithm/bankers-algorithm.svg",caption:"Banker's Algorithm Overview"})])):q("",!0),l.tab==="Algorithm Visualizer"?(t(),n("div",We,[s[36]||(s[36]=e("h2",{class:"mb-4 text-xl font-semibold"}," Step by step illustration ",-1)),s[37]||(s[37]=e("hr",{class:"mb-4 border-neutral-800"},null,-1)),e("form",{ref_key:"form",ref:i,class:"w-full mb-10 space-y-4 gap-x-4"},[e("div",Xe,[s[30]||(s[30]=e("p",{class:"flex-1 font-medium"},"Resource Instances:",-1)),e("button",{class:P(["btn",{disabled:a.length===K}]),type:"button",disabled:o.length===K,onClick:M}," Add Resource ",10,Ge)]),e("div",Je,[e("table",null,[e("thead",null,[e("tr",null,[(t(!0),n(p,null,b(a.length,d=>(t(),n("th",null,[e("div",Ke,[e("span",null,"R"+h(d),1),a.length>1?(t(),n("div",{key:0,class:"flex items-center justify-center duration-100 border border-transparent rounded-md cursor-pointer bg-zinc-700 aspect-square w-7 group hover:border-rose-600 active:translate-y-1",onClick:m=>f(d-1)},[v(k(T),{class:"text-rose-500",tag:"span",size:"20px"},{default:$(()=>[v(k(H))]),_:1})],8,Qe)):q("",!0)])]))),256))])]),e("tbody",null,[e("tr",null,[(t(!0),n(p,null,b(a.length,d=>(t(),n("td",null,[O(e("input",{type:"number",min:"1",max:C,required:"","onUpdate:modelValue":m=>a[d-1]=m},null,8,Ye),[[D,a[d-1]]])]))),256))])])])]),e("div",Ze,[e("button",{class:P(["btn",{disabled:o.length===J}]),type:"button",disabled:o.length===J,onClick:I}," Add Process ",10,es)]),e("div",ss,[e("div",ts,[s[32]||(s[32]=e("div",{class:"w-full p-2 sm:-mb-2 sm:border sm:bg-zinc-800 sm:border-zinc-700 sm:rounded-t-md"},[e("h3",{class:"font-medium sm:mb-2 sm:text-center"}," Allocation ")],-1)),e("table",null,[e("thead",null,[e("tr",null,[s[31]||(s[31]=e("th",null,null,-1)),(t(!0),n(p,null,b(a.length,d=>(t(),n("th",null,"R"+h(d),1))),256)),r.length>1?(t(),n("th",rs)):q("",!0)])]),e("tbody",ns,[(t(!0),n(p,null,b(r,(d,m)=>(t(),n("tr",null,[e("td",null,"P"+h(m+1),1),(t(!0),n(p,null,b(d,(w,y)=>(t(),n("td",null,[O(e("input",{type:"number",min:"0",max:C,required:"","onUpdate:modelValue":V=>r[m][y]=V},null,8,ls),[[D,r[m][y]]])]))),256)),r.length>1?(t(),n("td",os,[e("div",{class:"flex items-center justify-center duration-100 border border-transparent rounded-md cursor-pointer bg-zinc-700 aspect-square w-7 group hover:border-rose-600 active:translate-y-1",onClick:w=>B(m)},[v(k(T),{class:"text-rose-500",tag:"span",size:"20px"},{default:$(()=>[v(k(H))]),_:1})],8,as)])):q("",!0)]))),256))])])]),e("div",is,[s[34]||(s[34]=e("div",{class:"w-full p-2 sm:-mb-2 sm:border sm:bg-zinc-800 sm:border-zinc-700 sm:rounded-t-md"},[e("h3",{class:"font-medium sm:mb-2 sm:text-center"}," Max ")],-1)),e("table",null,[e("thead",null,[e("tr",null,[s[33]||(s[33]=e("th",null,null,-1)),(t(!0),n(p,null,b(a.length,d=>(t(),n("th",null,"R"+h(d),1))),256)),o.length>1?(t(),n("th",us)):q("",!0)])]),e("tbody",ds,[(t(!0),n(p,null,b(o,(d,m)=>(t(),n("tr",null,[e("td",null,"P"+h(m+1),1),(t(!0),n(p,null,b(d,(w,y)=>(t(),n("td",null,[O(e("input",{type:"number",min:"0",max:C,required:"","onUpdate:modelValue":V=>o[m][y]=V},null,8,cs),[[D,o[m][y]]])]))),256)),o.length>1?(t(),n("td",ms,[e("div",{class:"flex items-center justify-center duration-100 border border-transparent rounded-md cursor-pointer bg-zinc-700 aspect-square w-7 group hover:border-rose-600 active:translate-y-1",onClick:w=>B(m)},[v(k(T),{class:"text-rose-500",tag:"span",size:"20px"},{default:$(()=>[v(k(H))]),_:1})],8,hs)])):q("",!0)]))),256))])])])]),e("button",{type:"submit",class:"btn",onClick:W(g,["prevent"])},"Run Algorithm")],512),s[38]||(s[38]=e("h1",{class:"mb-4 text-xl font-semibold"}," Results ",-1)),s[39]||(s[39]=e("hr",{class:"mb-4 border-neutral-800"},null,-1)),A.value?(t(),n("div",fs,[v(Ne,{"number-of-resources":a.length,"need-matrix":u.needMatrix},null,8,["number-of-resources","need-matrix"]),v(Ie,{"process-log":u.processLog,"number-of-processes":r.length,"number-of-resources":a.length},null,8,["process-log","number-of-processes","number-of-resources"]),v(De,{"formatted-safe-sequence":z.value,"is-system-in-safe-state":u.isSystemInSafeState},null,8,["formatted-safe-sequence","is-system-in-safe-state"])])):(t(),N(Y,{key:1},{default:$(()=>[s[35]||(s[35]=e("p",{class:"mb-4"}," No results to display yet, try running the algorithm... ",-1)),e("button",{onClick:s[0]||(s[0]=W(()=>g(c.parameters),["prevent"])),class:"btn"}," Run Algorithm ")]),_:1,__:[35]}))])):q("",!0)]))]),_:1}))}};export{gs as default};
