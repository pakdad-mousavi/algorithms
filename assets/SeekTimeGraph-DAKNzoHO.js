import{r as G,c as N,y as z,z as M,h as a,o as i,e as s,F as g,i as _,q as k,p as b,m as T}from"./index-D8HiL1sp.js";const $={fcfs:(u,h)=>[u,...h],sstf:(u,h)=>{const y=[...h],d=[u];let o=u;for(;y.length>0;){let m=0,x=Math.abs(o-y[0]);for(let n=1;n<y.length;n++){const e=Math.abs(o-y[n]);e<x&&(x=e,m=n)}const p=y.splice(m,1)[0];d.push(p),o=p}return d}},rt=(u,h,y)=>{const d=$[y],o=d(u,h);let m=0;for(let x=1;x<o.length;x++)m+=Math.abs(o[x]-o[x-1]);return{orderedRequests:o,totalSeekTime:m}},H={viewBox:"0 0 800 552",class:"w-full h-full mb-4",xmlns:"http://www.w3.org/2000/svg"},C={class:"stroke-[1.5px] stroke-white"},O=["x2"],B=["x1","x2"],U=["x1","x2"],V={stroke:"gray","stroke-opacity":"0.5"},X=["x1","x2"],Y=["x1","y1"],K=["values","begin"],Q=["values","begin"],W=["x","y"],j={key:0},J=["x1","x2","y1","y2"],Z=["x1","x2","y1","y2"],tt=["cx","cy"],et={class:"p-2 mx-auto font-medium text-center border rounded-md bg-zinc-800 border-zinc-700 w-72"},f=700,w=450,c=50,v=100,I=9,st=200,S=30,L=200,R=400,lt={__name:"SeekTimeGraph",props:{orderedRequests:{type:Array,required:!0},totalSeekTime:{type:Number,required:!0}},setup(u){const h=u,y=w/(h.orderedRequests.length+1),d=G(!1),o=N(()=>{const n=[];let e=1;for(const t of h.orderedRequests){const r={x:t/st*f+c,y:e*y+v};n.push(r),e++}return n}),m=n=>{const e={top:10,right:6,left:20},t=o.value[n],r=o.value[n+1],l=c+S,E=f+c-S;let A=t.x+e.right,q=t.y-e.top;const P=t.x>l,D=t.x>E,F=r&&r.x>t.x;return P&&(D||F)&&(A=t.x-e.left),{x:A,y:q}},x=n=>{const e=I+1;return n/e*f+c},p=(n,e=!1)=>e?`transition-delay: ${R*n+L}ms;`:R*n+L;return z(()=>{d.value=!0}),M(()=>{d.value=!1}),(n,e)=>(i(),a(g,null,[(i(),a("svg",H,[e[1]||(e[1]=s("text",{x:"45",y:"60",class:"fill-white"},"0",-1)),e[2]||(e[2]=s("text",{x:"735",y:"60",class:"fill-white"},"199",-1)),e[3]||(e[3]=s("defs",null,[s("pattern",{id:"diagonalLines",patternUnits:"userSpaceOnUse",width:"10",height:"10",class:"-translate-x-[1px]"},[s("circle",{r:"0.5",cx:"1",cy:"1","stroke-width":"1",class:"fill-zinc-600"})])],-1)),s("rect",{x:c,y:v,width:f,height:w,class:"stroke-2 stroke-zinc-700",fill:"url(#diagonalLines)"}),s("g",C,[s("line",{x1:c,y1:v,x2:c+f-1,y2:v},null,8,O),s("line",{x1:c,y1:"70",x2:c,y2:"130"}),(i(!0),a(g,null,_(o.value,({x:t},r)=>(i(),a("line",{x1:t,y1:"90",x2:t,y2:"110",class:b(["duration-300 opacity-0",{"opacity-100":d.value}]),style:k(p(r,!0))},null,14,B))),256)),s("line",{x1:f+c,y1:"70",x2:f+c,y2:"130"},null,8,U)]),s("g",V,[(i(),a(g,null,_(I,t=>s("line",{x1:x(t),y1:"101",x2:x(t),y2:"549","stroke-dasharray":"10,5",class:"stroke-[1px] stroke-neutral-700"},null,8,X)),64))]),s("g",null,[(i(!0),a(g,null,_(o.value.slice(0,o.value.length-1),({x:t,y:r},l)=>(i(),a("line",{x1:t,y1:r,class:b(["duration-300 opacity-0 stroke-1 stroke-white",{"!opacity-100":d.value}]),"stroke-dasharray":"10,5","stroke-dashoffset":"0",style:k(p(l,!0))},[e[0]||(e[0]=s("animate",{attributeName:"stroke-dashoffset",from:"0",to:"-15",dur:"1s",repeatCount:"indefinite"},null,-1)),s("animate",{attributeName:"x2",values:`${t};${o.value[l+1].x}`,dur:"300ms",begin:`${p(l)}ms`,fill:"freeze"},null,8,K),s("animate",{attributeName:"y2",values:`${r};${o.value[l+1].y}`,dur:"300ms",begin:`${p(l)}ms`,fill:"freeze"},null,8,Q)],14,Y))),256))]),s("g",null,[(i(!0),a(g,null,_(o.value,({x:t,y:r},l)=>(i(),a("g",{class:b(["duration-300 opacity-0",{"!opacity-100":d.value}]),style:k(p(l,!0))},[s("text",{x:m(l).x,y:m(l).y,class:"text-xs fill-white"},T(u.orderedRequests[l]),9,W),l===0?(i(),a("g",j,[s("line",{x1:t-5,x2:t+5,y1:r+5,y2:r-5,class:"stroke-2 stroke-rose-600","stroke-linecap":"round"},null,8,J),s("line",{x1:t+5,x2:t-5,y1:r+5,y2:r-5,class:"stroke-2 stroke-rose-600","stroke-linecap":"round"},null,8,Z)])):(i(),a("circle",{key:1,r:"3",cx:t,cy:r,class:"stroke-1 fill-rose-500 stroke-rose-600 animate-breathe",style:k(`transform-origin: ${t}px ${r}px`)},null,12,tt))],6))),256))])])),s("div",et," Total Seek Time: "+T(u.totalSeekTime),1)],64))}};export{lt as _,rt as r};
