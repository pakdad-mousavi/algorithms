import{r as h,a as C,w as V,b as v,u as q,t as R,d as g,e as t,h as b,f as c,v as S,C as L,i as $,F,g as T,k as i,l as s,o as n,j as K}from"./index-BqYzm41j.js";import{_ as M,a,b as U,c as B}from"./TrashButton-Dnm9bTsd.js";import{_ as I,r as D}from"./SeekTimeGraph-CsJCTkdr.js";import{_ as E}from"./Alert-BHF_Bk0_.js";const j={class:"mb-10 space-y-4"},H={class:"mb-10 space-y-4"},P={class:"flex flex-wrap items-end gap-4"},Q={class:"flex flex-col gap-2"},W={class:"flex flex-col flex-1 gap-2"},z=["disabled"],J=["onUpdate:modelValue"],X={class:"w-20 mx-auto text-center"},G={key:0},w=199,A=0,se={__name:"CLook",setup(Y){const p=h(null),l=C([98,183,37,122,14,124,65,67]),d=h(53),u=h("left"),m=C({orderedRequests:null,totalSeekTime:null}),f=h(!1);V([l,d,u],()=>{f.value=!1});const O=()=>{const r=Math.round(Math.random()*w);l.push(r)},N=r=>{l.splice(r,1)},y=()=>{if(!p.value.checkValidity())return p.value.reportValidity();const{orderedRequests:e,totalSeekTime:o}=D(d.value,l.slice(),"cLook",u.value);m.orderedRequests=e,m.totalSeekTime=o,f.value=!0};return(r,e)=>(n(),v(U,null,{[q(R).howItWorks.id]:g(()=>[t("div",j,[t("p",null,[e[5]||(e[5]=s(" The ")),e[6]||(e[6]=t("span",{class:"text-main"},"C-LOOK (circular LOOK)",-1)),e[7]||(e[7]=s(" algorithm is a variant of the ")),t("span",{class:"cursor-pointer text-main",onClick:e[0]||(e[0]=o=>r.$router.push("/disk-scheduling/look"))},"LOOK"),e[8]||(e[8]=s(" algorithm. It works similarly to LOOK and C-SCAN, however, instead of scanning back and forth, it only scans in one direction, and only scans until the last requests. "))]),t("p",null,[e[9]||(e[9]=s(" This is a disk scheduling algorithm, which requires some basic knowledge about a hard disk. To learn more about disk architecture, see the ")),t("span",{class:"cursor-pointer text-main",onClick:e[1]||(e[1]=o=>r.$router.push("/disk-scheduling/first-come-first-serve"))},"First Come First Serve (FCFS)"),e[10]||(e[10]=s(" algorithm. "))]),e[12]||(e[12]=t("h2",{class:"mt-10 text-xl font-semibold"}," How the Algorithm Works ",-1)),e[13]||(e[13]=t("hr",{class:"mb-4 border-neutral-800"},null,-1)),e[14]||(e[14]=t("p",null,[s(" The C-LOOK variant goes towards the "),t("span",{class:"text-main"},"head direction"),s(" (either left or right), then jumps to the furthest request on the opposite side, and finally scans back towards the same direction. ")],-1)),e[15]||(e[15]=t("p",null," To illustrate this, we need a set of disk requests, and a current head position: ",-1)),i(a,{src:"/algorithms/disk-scheduling/c-look/disk-requests.svg",class:"max-w-lg"}),e[16]||(e[16]=t("p",null," Then, lets order the requests from smallest to largest. Unlike C-SCAN, including the first and last track of the disk is unnecessary: ",-1)),i(a,{src:"/algorithms/disk-scheduling/c-look/ordered-disk-requests.svg",class:"max-w-lg"}),e[17]||(e[17]=t("p",null," Just like C-SCAN, C-LOOK assumes that the requests are ordered in a circular manner. To illustrate this, the first and last request need to be connected together: ",-1)),i(a,{src:"/algorithms/disk-scheduling/c-look/circular-disk-requests.svg",class:"max-w-md"}),e[18]||(e[18]=t("p",null,[s(" The "),t("span",{class:"text-main"},"head direction"),s(" determines whether the C-SCAN algorithm goes towards the left or the right. ")],-1)),e[19]||(e[19]=t("p",null," Assuming a left head direction, the algorithm starts from the current head position and moves towards the left, responding to any pending requests. If you look carefully, you'll notice how there's a large gap from the first request and the last request (14 - 183): ",-1)),i(a,{src:"/algorithms/disk-scheduling/c-look/c-look-left.svg",class:"max-w-lg"}),e[20]||(e[20]=t("p",null," Although there is a large gap, it is smaller than C-SCAN, as it avoids always scanning until the end of the disk. ",-1)),i(E,{"alert-style":"note"},{default:g(()=>e[11]||(e[11]=[t("p",null," The jump from 0 to 199 is important because in reality, the tracks of the disk are not arranged in a circular manner, so the disk head cannot go from 199 to 0 in 1 unit. It will actually have to travel back to the opposite end before servicing any remaining requests. ",-1)])),_:1,__:[11]}),e[21]||(e[21]=t("p",null," Similarly, if the head direction is right, then the C-LOOK algorithm will travel towards the right and service any requests along the way: ",-1)),e[22]||(e[22]=t("p",null,[s(" Now, using the final order of the requests, a "),t("span",{class:"text-main"},"seek-time graph"),s(" can be plotted. The following graph illustrates the seek-time graph for the points shown earlier, with a left head direction: ")],-1)),i(a,{src:"/algorithms/disk-scheduling/c-look/c-look-seek-time-graph.svg"})])]),[q(R).visualizer.id]:g(()=>[t("div",H,[e[28]||(e[28]=t("h1",{class:"mb-4 text-xl font-semibold"}," Step By Step Illustration ",-1)),e[29]||(e[29]=t("hr",{class:"mb-4 border-neutral-800"},null,-1)),t("form",{class:"space-y-4",ref_key:"form",ref:p},[t("div",P,[t("div",Q,[e[23]||(e[23]=t("label",{class:"font-medium"},"Current Head Position:",-1)),c(t("input",{type:"number",class:"field",min:A,max:w,"onUpdate:modelValue":e[2]||(e[2]=o=>d.value=o)},null,512),[[S,d.value]])]),t("div",W,[e[25]||(e[25]=t("label",{class:"font-medium"},"Head Direction:",-1)),c(t("select",{class:"field","onUpdate:modelValue":e[3]||(e[3]=o=>u.value=o)},e[24]||(e[24]=[t("option",{value:"left"},"Left",-1),t("option",{value:"right"},"Right",-1)]),512),[[L,u.value]])]),t("button",{type:"button",class:"btn",disabled:l.length===15,onClick:O},"Add Row",8,z)]),t("table",null,[e[26]||(e[26]=t("thead",null,[t("tr",null,[t("th",null,"Disk Requests"),t("th")])],-1)),t("tbody",null,[(n(!0),b(F,null,$(l,(o,k)=>(n(),b("tr",null,[t("td",null,[c(t("input",{type:"number","onUpdate:modelValue":x=>l[k]=x,min:A,max:w},null,8,J),[[S,l[k]]])]),t("td",X,[l.length>1?(n(),v(B,{key:0,onClick:x=>N(k)},null,8,["onClick"])):K("",!0)])]))),256))])]),t("button",{type:"submit",class:"btn",onClick:T(y,["prevent"])},"Run Algorithm")],512),e[30]||(e[30]=t("h2",{class:"mt-10 text-xl font-semibold"}," Results ",-1)),e[31]||(e[31]=t("hr",{class:"mb-4 border-neutral-800"},null,-1)),f.value?(n(),b("div",G,[i(I,{"ordered-requests":m.orderedRequests,"total-seek-time":m.totalSeekTime},null,8,["ordered-requests","total-seek-time"])])):(n(),v(M,{key:1},{default:g(()=>[e[27]||(e[27]=t("p",{class:"mb-4"}," No results to display yet, try running the algorithm... ",-1)),t("button",{onClick:e[4]||(e[4]=T(()=>y(),["prevent"])),class:"btn"}," Run Algorithm ")]),_:1,__:[27]}))])]),_:2},1024))}};export{se as default};
