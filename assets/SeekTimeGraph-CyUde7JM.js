import{k as K,l as E,m as D,n as F,c as p,o as h,a as c,F as _,j as m,B as k,A as v,t as T}from"./index-D6XtYEjH.js";const G={fcfs:({headPosition:l,diskRequests:d})=>[l,...d],sstf:({headPosition:l,diskRequests:d})=>{const u=[...d],x=[l];let s=l;for(;u.length>0;){let o=0,t=Math.abs(s-u[0]);for(let e=1;e<u.length;e++){const r=Math.abs(s-u[e]);r<t&&(t=r,o=e)}const a=u.splice(o,1)[0];x.push(a),s=a}return x},scan:({headPosition:l,diskRequests:d,headDirection:u})=>{const o=[l,...d];o.indexOf(0)===-1&&o.push(0),o.indexOf(199)===-1&&o.push(199);const t=o.sort((n,i)=>n-i),a=t.indexOf(l);let e;return u==="left"?e=t.splice(0,a+1).reverse():(e=t.splice(a,t.length),t.reverse()),e.concat(t)},look:({headPosition:l,diskRequests:d,headDirection:u})=>{const s=[l,...d].sort((e,r)=>e-r),o=s.indexOf(l);let t;return u==="left"?t=s.splice(0,o+1).reverse():(t=s.splice(o,s.length),s.reverse()),t.concat(s)},cScan:({headPosition:l,diskRequests:d,headDirection:u})=>{const o=[l,...d];o.indexOf(0)===-1&&o.push(0),o.indexOf(199)===-1&&o.push(199);const t=o.sort((n,i)=>n-i),a=t.indexOf(l);let e;return u==="left"?(e=t.splice(0,a+1).reverse(),t.reverse()):e=t.splice(a,t.length),e.concat(t)},cLook:({headPosition:l,diskRequests:d,headDirection:u})=>{const s=[l,...d].sort((e,r)=>e-r),o=s.indexOf(l);let t;return u==="left"?(t=s.splice(0,o+1).reverse(),s.reverse()):t=s.splice(o,s.length),t.concat(s)}},oe=(l,d,u,x="left")=>{const s={headPosition:l,diskRequests:d,headDirection:x},o=G[u],t=o(s);let a=0;for(let e=1;e<t.length;e++)a+=Math.abs(t[e]-t[e-1]);return{orderedRequests:t,totalSeekTime:a}},$={viewBox:"0 0 800 552",class:"w-full h-full mb-4",xmlns:"http://www.w3.org/2000/svg"},z={class:"stroke-[1.5px] stroke-white"},H=["x2"],X=["x1","x2"],P=["x1","x2"],B={stroke:"gray","stroke-opacity":"0.5"},U=["x1","x2"],V=["x1","y1"],Y=["values","begin"],j=["values","begin"],Q=["x","y"],W={key:0},J=["x1","x2","y1","y2"],Z=["x1","x2","y1","y2"],ee=["cx","cy"],te={class:"p-2 mx-auto font-medium text-center border rounded-md bg-zinc-800 border-zinc-700 w-72"},y=700,I=450,g=50,A=100,q=9,se=200,M=30,S=200,b=400,le={__name:"SeekTimeGraph",props:{orderedRequests:{type:Array,required:!0},totalSeekTime:{type:Number,required:!0}},setup(l){const d=l,u=I/(d.orderedRequests.length+1),x=K(!1),s=E(()=>{const e=[];let r=1;for(const n of d.orderedRequests){const i={x:n/se*y+g,y:r*u+A};e.push(i),r++}return e}),o=e=>{const r={top:10,right:6,left:20},n=s.value[e],i=s.value[e+1],f=g+M,C=y+g-M;let R=n.x+r.right,w=n.y-r.top;const N=n.x>f,L=n.x>C,O=i&&i.x>n.x;return N&&(L||O)&&(R=n.x-r.left),{x:R,y:w}},t=e=>{const r=q+1;return e/r*y+g},a=(e,r=!1)=>r?`transition-delay: ${b*e+S}ms;`:b*e+S;return D(()=>{x.value=!0}),F(()=>{x.value=!1}),(e,r)=>(h(),p(_,null,[(h(),p("svg",$,[r[1]||(r[1]=c("text",{x:"45",y:"60",class:"fill-white"},"0",-1)),r[2]||(r[2]=c("text",{x:"735",y:"60",class:"fill-white"},"199",-1)),r[3]||(r[3]=c("defs",null,[c("pattern",{id:"diagonalLines",patternUnits:"userSpaceOnUse",width:"10",height:"10",class:"-translate-x-[1px]"},[c("circle",{r:"0.5",cx:"1",cy:"1","stroke-width":"1",class:"fill-zinc-600"})])],-1)),c("rect",{x:g,y:A,width:y,height:I,class:"stroke-2 stroke-zinc-700",fill:"url(#diagonalLines)"}),c("g",z,[c("line",{x1:g,y1:A,x2:g+y-1,y2:A},null,8,H),c("line",{x1:g,y1:"70",x2:g,y2:"130"}),(h(!0),p(_,null,m(s.value,({x:n},i)=>(h(),p("line",{x1:n,y1:"90",x2:n,y2:"110",class:v(["duration-300 opacity-0",{"opacity-100":x.value}]),style:k(a(i,!0))},null,14,X))),256)),c("line",{x1:y+g,y1:"70",x2:y+g,y2:"130"},null,8,P)]),c("g",B,[(h(),p(_,null,m(q,n=>c("line",{x1:t(n),y1:"101",x2:t(n),y2:"549","stroke-dasharray":"10,5",class:"stroke-[1px] stroke-neutral-700"},null,8,U)),64))]),c("g",null,[(h(!0),p(_,null,m(s.value.slice(0,s.value.length-1),({x:n,y:i},f)=>(h(),p("line",{x1:n,y1:i,class:v(["duration-300 opacity-0 stroke-1 stroke-white",{"!opacity-100":x.value}]),"stroke-dasharray":"10,5","stroke-dashoffset":"0",style:k(a(f,!0))},[r[0]||(r[0]=c("animate",{attributeName:"stroke-dashoffset",from:"0",to:"-15",dur:"1s",repeatCount:"indefinite"},null,-1)),c("animate",{attributeName:"x2",values:`${n};${s.value[f+1].x}`,dur:"300ms",begin:`${a(f)}ms`,fill:"freeze"},null,8,Y),c("animate",{attributeName:"y2",values:`${i};${s.value[f+1].y}`,dur:"300ms",begin:`${a(f)}ms`,fill:"freeze"},null,8,j)],14,V))),256))]),c("g",null,[(h(!0),p(_,null,m(s.value,({x:n,y:i},f)=>(h(),p("g",{class:v(["duration-300 opacity-0",{"!opacity-100":x.value}]),style:k(a(f,!0))},[c("text",{x:o(f).x,y:o(f).y,class:"text-xs fill-white"},T(l.orderedRequests[f]),9,Q),f===0?(h(),p("g",W,[c("line",{x1:n-5,x2:n+5,y1:i+5,y2:i-5,class:"stroke-2 stroke-rose-600","stroke-linecap":"round"},null,8,J),c("line",{x1:n+5,x2:n-5,y1:i+5,y2:i-5,class:"stroke-2 stroke-rose-600","stroke-linecap":"round"},null,8,Z)])):(h(),p("circle",{key:1,r:"3",cx:n,cy:i,class:"stroke-1 fill-rose-500 stroke-rose-600 animate-breathe",style:k(`transform-origin: ${n}px ${i}px`)},null,12,ee))],6))),256))])])),c("div",te," Total Seek Time: "+T(l.totalSeekTime),1)],64))}};export{le as _,oe as r};
